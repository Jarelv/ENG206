<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENG206 Sustainable Engineering Poster</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital,wght@0,400;0,700;1,400;1,700&family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    <style>
        html {
          background:black;
        }
        body {
            font-family: "Red Hat Display", sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
            color: #333;
            width: 9930px;
            height: 7020px;
            overflow: hidden;
            transition: transform 1s linear;
            font-size: 5em;
            text-align: center;
        }
        
        .phase, .stage {
          border: 4px solid gray;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3 {
            text-align: center;
            color: #2c3e50;
            font-family: "Arvo", serif;
        }

        p {
            line-height: 1.6;
        }

        #phase1 {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2000px;
        }

        #phase4 {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2014px;
        }

        .stage {
            position: absolute;
            top: 2000px;
            width: 1986px;
            height: 3000px;
        }

        #stage1 {
            left: 0;
        }

        #stage2 {
            left: 1986px;
        }

        #stage3 {
            left: 3972px;
        }

        #stage4 {
            left: 5958px;
        }

        #stage5 {
            left: 7944px;
        }

        .subsection {
            margin-top: 10px;
            padding: 10px;
            border-top: 1px solid #ddd;
            height:calc(33% - 20px);
        }
    </style>
</head>
<body>
    <div class="phase" id="phase1">
        <h2>Phase 1</h2>
        <p>Goal, Scope, Functional Unit, Boundaries</p>
    </div>

    <div class="phase">
        <div class="phase2-3">
            <!-- Raw Materials Stage -->
            <div class="stage" id="stage1">
                <h3>Raw Materials</h3>
                <div class="subsection">Environmental Inputs</div>
                <div class="subsection">Energy</div>
                <div class="subsection">Waste</div>
            </div>

            <!-- Manufacturing/Processing Stage -->
            <div class="stage" id="stage2">
                <h3>Manufacturing/Processing</h3>
                <div class="subsection">Environmental Inputs</div>
                <div class="subsection">Energy</div>
                <div class="subsection">Waste</div>
            </div>

            <!-- Distribution/Transportation Stage -->
            <div class="stage" id="stage3">
                <h3>Distribution/Transportation</h3>
                <div class="subsection">Environmental Inputs</div>
                <div class="subsection">Energy</div>
                <div class="subsection">Waste</div>
            </div>

            <!-- Use Stage -->
            <div class="stage" id="stage4">
                <h3>Use</h3>
                <div class="subsection">Environmental Inputs</div>
                <div class="subsection">Energy</div>
                <div class="subsection">Waste</div>
            </div>

            <!-- Disposal Stage -->
            <div class="stage" id="stage5">
                <h3>Disposal</h3>
                <div class="subsection">Environmental Inputs</div>
                <div class="subsection">Energy</div>
                <div class="subsection">Waste</div>
            </div>
        </div>
    </div>

    <div class="phase" id="phase4">
        <h2>Phase 4</h2>
        <p>Interpretation, Summarisation, Hotspots, Limitations</p>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            let currentSection = 0;
            function zoomToSection(section) {
              const viewportHeight = window.innerHeight;

              // Calculate scale to fit the section height plus 5%
              const sectionHeight = section.offsetHeight;
              const scale = viewportHeight / (sectionHeight * 1.05); // Adding 5% extra space

              const translateX = (window.innerWidth/scale - section.offsetWidth) / 2 - section.offsetLeft;
              const translateY = (window.innerHeight/scale - sectionHeight) / 2 - section.offsetTop;

              document.body.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;
          }

          // Initial fit to viewport
          fitPosterToViewport();

          // Reapply the scaling when the window is resized
          window.addEventListener('resize', fitPosterToViewport);

          // Example keypress navigation
          let currentSectionIndex = 0;
          const sections = [
              'all',
              document.getElementById("phase1"),
              document.getElementById("stage1"),
              document.getElementById("stage2"),
              document.getElementById("stage3"),
              document.getElementById("stage4"),
              document.getElementById("stage5"),
              document.getElementById("phase4")
          ];

          document.addEventListener("keydown", function(event) {
              if (event.key === "ArrowRight") {
                  currentSectionIndex = (currentSectionIndex + 1) % sections.length;
                  if(currentSectionIndex==0) fitPosterToViewport();
                  else zoomToSection(sections[currentSectionIndex]);
              } else if (event.key === "ArrowLeft") {
                  currentSectionIndex = (currentSectionIndex - 1 + sections.length) % sections.length;
                  if(currentSectionIndex==0) fitPosterToViewport();
                  else zoomToSection(sections[currentSectionIndex]);
              }
          });

          function fitPosterToViewport() {
              const viewportWidth = window.innerWidth;
              const viewportHeight = window.innerHeight;

              const posterWidth = 9930;
              const posterHeight = 7020;

              const scaleX = viewportWidth / posterWidth;
              const scaleY = viewportHeight / posterHeight;

              // Choose the smaller scale factor to ensure the entire poster fits within the viewport
              const scale = Math.min(scaleX, scaleY);
              const translateX = (viewportWidth / scale - posterWidth) / 2;
              const translateY = (viewportHeight / scale - posterHeight) / 2;

              document.body.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;
              document.body.style.transformOrigin = "0 0"; // Scale from the top-left corner
          }
          window.addEventListener('resize', fitPosterToViewport);
        });
    </script>
</body>
</html>
